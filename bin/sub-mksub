#!/usr/bin/env bash
set -e

if [ $# -lt 2 ]; then
    echo "Usage sub-mksub <command_name> <command_path>"
    exit 1
fi

if [ ! -d $2 ]; then
    echo "$2 is not a valid directory"
    exit 1
fi

SUB_COMMAND_NAME=$1
SUB_COMMAND_PATH=$(cd $2; pwd)

cat << EOM
#!/usr/bin/env bash
set -e

sub $SUB_COMMAND_NAME $SUB_COMMAND_PATH "\$@"

EOM
